{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
        <title> HardwareIT — Checkout </title>     
        
        <!-- CSS Link -->
        <link rel="stylesheet" href="{% static 'css/header.css' %}">
        <link rel="stylesheet" href="{% static 'css/checkout.css' %}">

        <!-- Responsive CSS -->
        <style>
        @media (max-width: 768px) {
          nav .container {
            flex-direction: column;
            align-items: flex-start;
          }

          nav ul {
            flex-wrap: wrap;
            justify-content: center;
          }

          form {
            width: 100%;
            justify-content: center;
          }

          .btn-sign,
          .btn-log {
            width: 100%;
            margin-top: 10px;
          }
        }
        </style>

    </head>
    <body>

        <!-- Header -->
        {% include 'includes/header.html' %}
        
        <!-- Main -->
        <main class="checkout-container">
            <h2>Checkout</h2>

            <form method="POST" action="{% url 'place_order' %}">
                    {% csrf_token %}
                <div class="checkout-box">
                    <!-- Billing Details -->
                    <div class="checkout-form">
                        <h3>Billing Details</h3>

                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" name="name" placeholder="Full name" required>
                        </div>

                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" name="email" placeholder="Email Address" required>
                        </div>

                        <div class="form-group">
                            <label>Phone</label>
                            <input type="text" name="phone" placeholder="Phone number" required>
                        </div>

                        <div class="form-group">
                            <label>Address</label>
                            <textarea name="address" placeholder="Delivery address" required></textarea>
                        </div>
                    </div>

                    <!-- Order Summary -->
                    <div class="order-summary">
                        <h3>Order Summary</h3>

                        <div class="order-items">
                            {% for item in cart_items %}
                                <div class="summary-item">
                                    <span>{{ item.product.name }} × {{ item.quantity }}</span>
                                    <span>₹ {{ item.subtotal }}</span>
                                </div>
                            {% endfor %}
                        </div>

                        <div class="summary-item total">
                            <span>Total Amount</span>
                            <span>₹ {{ total_price }}</span>
                        </div>

                        <button  type="submit" class="place-order-btn">
                            Place Order
                        </button>
                    </div>
                
                </div>
            </form>
        </main>

        <!-- Footer -->
        {% include 'includes/footer.html' %}

    </body>
</html>